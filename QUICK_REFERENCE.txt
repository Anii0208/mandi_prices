â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  MANDI PRICE TRACKER - QUICK REFERENCE                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ SETUP CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ 1. Edit .env file - Add DB_PASSWORD and OPENGOV_API_KEY
â–¡ 2. Create database: psql -U postgres -c "CREATE DATABASE agrimatrix_prices;"
â–¡ 3. Run migrations: npm run migrate
â–¡ 4. Fetch initial data: npm run scheduler
â–¡ 5. Start server: npm run dev
â–¡ 6. Open browser: http://localhost:3000

âš¡ QUICK COMMANDS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
npm install              â†’ Install dependencies
npm run migrate          â†’ Setup database
npm run test:db          â†’ Test database connection
npm run test:api         â†’ Test API connection
npm run scheduler        â†’ Fetch data manually
npm run dev              â†’ Start development server
npm start                â†’ Start production server

ğŸŒ KEY ENDPOINTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
http://localhost:3000                          â†’ Dashboard UI
http://localhost:3000/health                   â†’ Health check
http://localhost:3000/api/prices/latest        â†’ Latest prices
http://localhost:3000/api/prices/latest?state=Gujarat
http://localhost:3000/api/prices/commodity/Tomato
http://localhost:3000/api/markets              â†’ All markets
http://localhost:3000/api/commodities          â†’ All commodities
http://localhost:3000/api/sync/status          â†’ Sync status

ğŸ“Š DATABASE TABLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
states           â†’ Indian states (28+)
districts        â†’ Districts by state (450+)
markets          â†’ Markets/Mandis (2500+)
commodities      â†’ Commodity types (200+)
daily_prices     â†’ Daily price records (4000+ per day)
sync_logs        â†’ Data sync audit trail

ğŸ“ PROJECT STRUCTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
src/
  â”œâ”€â”€ config/          â†’ Configuration (database, app)
  â”œâ”€â”€ database/        â†’ Schema and migrations
  â”œâ”€â”€ services/        â†’ API client & data pipeline
  â”œâ”€â”€ routes/          â†’ API endpoints (14 total)
  â”œâ”€â”€ schedulers/      â†’ Cron jobs
  â”œâ”€â”€ utils/           â†’ Logger
  â””â”€â”€ server.js        â†’ Main entry point
public/
  â””â”€â”€ index.html       â†’ Frontend dashboard
logs/                  â†’ Application logs

ğŸ”§ CONFIGURATION (.env)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DB_PASSWORD=your_password           â† REQUIRED
OPENGOV_API_KEY=your_api_key       â† REQUIRED
PORT=3000
FETCH_SCHEDULE=0 6 * * *            (6 AM daily)
START_SCHEDULER=true
NODE_ENV=development

ğŸ“– DOCUMENTATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GETTING_STARTED.md    â†’ Quick 10-min setup
SETUP.md              â†’ Detailed installation
API_DOCS.md           â†’ Complete API reference
PROJECT_SUMMARY.md    â†’ System architecture
BUILD_COMPLETE.md     â†’ Full overview
README.md             â†’ Main documentation

ğŸ¯ FEATURES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ Automated daily data sync (OpenGov API)
âœ“ Duplicate prevention (unique constraints)
âœ“ Latest price guarantee (optimized queries)
âœ“ Historical data storage
âœ“ Advanced filtering (state/district/market/commodity)
âœ“ RESTful API (14 endpoints)
âœ“ Beautiful dashboard UI
âœ“ Comprehensive logging
âœ“ Error handling & retry logic
âœ“ Cron job scheduling

ğŸš¨ TROUBLESHOOTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Problem: Database connection failed
Fix: Check PostgreSQL is running & .env has correct password

Problem: API key invalid
Fix: Get key from data.gov.in, update .env

Problem: No data returned
Fix: Run npm run scheduler to fetch initial data

Problem: Port 3000 in use
Fix: Change PORT in .env or kill existing process

ğŸ“Š DATA VOLUME
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Initial sync: ~4,800 records
Daily updates: ~4,800 new records
Annual: ~1.75 million records
States: 28+ | Districts: 450+ | Markets: 2,500+ | Commodities: 200+

â° SCHEDULER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Default: 6:00 AM IST daily
Format: minute hour day month weekday
Examples:
  0 6 * * *     â†’ 6:00 AM daily
  30 7 * * *    â†’ 7:30 AM daily
  0 */6 * * *   â†’ Every 6 hours

ğŸ“ LOGS LOCATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
logs/combined.log     â†’ All logs
logs/error.log        â†’ Errors only
logs/sync.log         â†’ Data sync operations

ğŸ” SECURITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ Environment variables for secrets
âœ“ Parameterized SQL queries
âœ“ CORS enabled
âœ“ Error sanitization
âœ“ Graceful shutdown

ğŸ¨ API FILTERS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/api/prices/latest?state=Gujarat
/api/prices/latest?district=Surat
/api/prices/latest?market=Surat%20APMC
/api/prices/latest?commodity=Tomato
/api/prices/latest?limit=50&offset=0

ğŸ’¡ TIPS
â”€â”€â”€â”€â”€â”€â”€
â†’ Use npm run test:db before starting
â†’ Check logs/ directory for errors
â†’ Run scheduler manually first time
â†’ Set START_SCHEDULER=true for production
â†’ Keep .env file secure (never commit)
â†’ Backup database regularly

ğŸŒŸ TECH STACK
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Backend:     Node.js + Express
Database:    PostgreSQL 14+
API Client:  Axios
Scheduler:   node-cron
Logging:     Winston
Frontend:    HTML5 + Vanilla JS

ğŸ“ SUPPORT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Read GETTING_STARTED.md
2. Check logs in logs/ directory
3. Run test scripts (test:db, test:api)
4. Review API_DOCS.md for endpoint details

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     STATUS: âœ… READY TO USE                            â•‘
â•‘      Follow GETTING_STARTED.md to launch in 10 minutes!               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
